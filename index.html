<!DOCTYPE html>
<html>
<head>
<title>ThreatScope</title>
<style>
body {
  background:#0b1220;
  font-family: Arial;
  color:white;
  text-align:center;
}
input, button {
  padding:12px;
  font-size:16px;
  border-radius:6px;
  border:none;
}
button {
  background:#00f7ff;
  cursor:pointer;
}
.box {
  margin:10px;
  padding:20px;
  border:1px solid #00f7ff;
  border-radius:8px;
  display:inline-block;
  width:200px;
}
</style>
</head>

<body>
<h1>ThreatScope</h1>

<input id="ip" placeholder="Enter IP e.g. 8.8.8.8">
<button onclick="scan()">Analyze</button>

<div id="result"></div>

<script>
const API = "https://threat-feed-aggregator.hanfibaba.workers.dev/?ip=";

async function scan(){
  const ip = document.getElementById("ip").value;
  document.getElementById("result").innerHTML = "Scanning...";

  try {
    const res = await fetch(API + ip);
    const data = await res.json();

    document.getElementById("result").innerHTML = `
      <div class="box">IP<br>${data.ip}</div>
      <div class="box">Risk<br>${data.verdict}</div>
      <div class="box">Score<br>${data.threat_score}</div>
      <div class="box">Confidence<br>${data.confidence}%</div>
      <div class="box">Country<br>${data.country}</div>
      <div class="box">ISP<br>${data.isp}</div>
    `;
  } catch(e){
    document.getElementById("result").innerHTML = "API error";
  }
}
</script>
</body>
</html>
