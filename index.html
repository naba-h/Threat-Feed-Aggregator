<!DOCTYPE html>
<html>
<head>
<title>ThreatScope</title>
<meta charset="UTF-8">
<style>
body {
  background:#0b1220;
  font-family:Arial;
  color:white;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
}

.card {
  background:#111a2e;
  padding:30px;
  border-radius:15px;
  width:500px;
  box-shadow:0 0 40px #00f7ff33;
}

input {
  width:100%;
  padding:12px;
  background:#0b1220;
  border:1px solid #00f7ff;
  color:white;
  border-radius:8px;
}

button {
  margin-top:15px;
  width:100%;
  padding:12px;
  background:#00f7ff;
  border:none;
  border-radius:8px;
  font-weight:bold;
  cursor:pointer;
}

.result {
  margin-top:20px;
  background:#0b1220;
  padding:15px;
  border-radius:10px;
}
</style>
</head>

<body>

<div class="card">
<h2>ThreatScope</h2>

<input id="ip" placeholder="Enter IP Address (eg 8.8.8.8)">
<button onclick="scan()">Analyze</button>

<div id="output" class="result">Waiting for scan...</div>
</div>

<script>
async function scan(){
  const ip = document.getElementById("ip").value;
  const out = document.getElementById("output");

  out.innerText = "Scanning...";

  try {
    const res = await fetch(
      "https://threat-feed-aggregator.hanfibaba.workers.dev/?ip=" + ip
    );
    const data = await res.json();

    out.innerHTML = `
      IP: ${data.ip}<br>
      Threat Level: ${data.threatLevel}<br>
      Threat Score: ${data.threatScore}<br>
      Abuse Score: ${data.abuseScore}<br>
      Open Ports: ${data.openPorts}<br>
      Confidence: ${data.confidence}%
    `;
  } catch(e) {
    out.innerText = "Backend not reachable";
  }
}
</script>

</body>
</html>
