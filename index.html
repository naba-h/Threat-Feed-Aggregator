<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ThreatScope ‚Äì Cyber Threat Intelligence</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="icon" href="https://www.cloudflare.com/favicon.ico">
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&display=swap" rel="stylesheet">

<style>
:root {
    --bg1:#001219;
    --bg2:#000;
    --panel:#020b16;
    --card:#061624;
    --text:#00fff7;
    --soft:#77ffff;
}

body.light {
    --bg1:#eaf6ff;
    --bg2:#ffffff;
    --panel:#ffffff;
    --card:#f0f8ff;
    --text:#003b44;
    --soft:#006a75;
}

body {
    margin: 0;
    font-family: Orbitron;
    background: radial-gradient(circle, var(--bg1), var(--bg2));
    color: var(--text);
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    transition: 0.4s;
}

.panel {
    background: var(--panel);
    border-radius: 20px;
    padding: 40px;
    width: 95%;
    max-width: 1000px;
    box-shadow: 0 0 60px #00fff744;
}

h1{text-align:center;}
.subtitle{text-align:center;color:var(--soft);margin-bottom:20px;}

input {
    width: 75%;
    padding: 15px;
    border-radius: 10px;
    border: none;
    background: #000;
    color: var(--text);
}

button {
    padding: 15px 30px;
    background: var(--text);
    border: none;
    border-radius: 10px;
    color: #000;
    font-weight: bold;
    cursor: pointer;
}

.grid {
    margin-top: 30px;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 20px;
}

.card {
    background: var(--card);
    padding: 20px;
    border-radius: 15px;
    box-shadow: 0 0 20px #00fff733;
    text-align: center;
}

.card span {
    font-size: 20px;
    color: var(--soft);
}

.status{text-align:center;color:#ff8080;margin-top:10px;}

.theme-btn{
    position:absolute;
    top:20px;
    right:20px;
    padding:8px 15px;
    border-radius:10px;
}
</style>
</head>

<body>
<button class="theme-btn" onclick="toggleTheme()">üåô / ‚òÄÔ∏è</button>

<div class="panel">
<h1>ThreatScope</h1>
<div class="subtitle">Global Cyber Threat Intelligence Platform</div>

<div style="display:flex;gap:10px;">
<input id="ip" placeholder="Enter IP e.g. 8.8.8.8">
<button onclick="scan()">Analyze</button>
</div>

<div id="status" class="status"></div>

<div class="grid">
<div class="card">Threat<br><span id="threat">‚Äî</span></div>
<div class="card">Score<br><span id="score">‚Äî</span></div>
<div class="card">Confidence<br><span id="confidence">‚Äî</span></div>
<div class="card">Country<br><span id="country">‚Äî</span></div>
<div class="card">City<br><span id="city">‚Äî</span></div>
<div class="card">ISP<br><span id="isp">‚Äî</span></div>
<div class="card">ASN<br><span id="asn">‚Äî</span></div>
<div class="card">Latitude<br><span id="lat">‚Äî</span></div>
<div class="card">Longitude<br><span id="lon">‚Äî</span></div>
<div class="card">Ports<br><span id="ports">‚Äî</span></div>
</div>
</div>

<script>
const API="https://threat-feed-aggregator.hanfinaba.workers.dev";

function toggleTheme(){
    document.body.classList.toggle("light");
}

async function scan(){
const ip=document.getElementById("ip").value.trim();
if(!ip){alert("Enter IP");return;}

document.getElementById("status").innerText="Scanning...";

const res=await fetch(API+"?ip="+ip);
const data=await res.json();

document.getElementById("threat").innerText=data.threat_level;
document.getElementById("score").innerText=data.threat_score;
document.getElementById("confidence").innerText=data.confidence;
document.getElementById("country").innerText=data.country;
document.getElementById("city").innerText=data.city;
document.getElementById("isp").innerText=data.isp;
document.getElementById("asn").innerText=data.asn;
document.getElementById("lat").innerText=data.latitude||"-";
document.getElementById("lon").innerText=data.longitude||"-";
document.getElementById("ports").innerText=data.open_ports.join(", ");

document.getElementById("status").innerText="Scan Complete";
}
</script>

</body>
</html>
