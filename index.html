<!DOCTYPE html>
<html>
<head>
<title>ThreatScope | Cyber Threat Intelligence</title>
<style>
body {
  background:#0b0f19;
  color:white;
  font-family:Arial;
  text-align:center;
}
input {
  width:60%;
  padding:14px;
  border-radius:8px;
  border:none;
  font-size:16px;
}
button {
  padding:14px 20px;
  border:none;
  background:#00f7ff;
  color:black;
  font-size:16px;
  border-radius:8px;
  cursor:pointer;
}
.card {
  background:#131b2f;
  margin:10px;
  padding:15px;
  border-radius:10px;
  display:inline-block;
  width:250px;
}
.risk-low { color:#00ff9c; }
.risk-medium { color:#ffcc00; }
.risk-high { color:#ff4b4b; }
</style>
</head>
<body>

<h1>ğŸ›¡ ThreatScope</h1>
<p>Cyber Threat Intelligence Platform</p>

<input id="ip" placeholder="Enter IP address"/>
<button onclick="scan()">Scan</button>

<h2 id="verdict"></h2>

<div id="cards"></div>

<script>
async function scan(){
  const ip = document.getElementById("ip").value;
  const res = await fetch("https://threat-feed-aggregator.hanfinaba.workers.dev/?ip="+ip);
  const data = await res.json();

  let riskClass = "risk-low";
  if(data.verdict=="Medium Risk") riskClass="risk-medium";
  if(data.verdict=="High Risk") riskClass="risk-high";

  document.getElementById("verdict").innerHTML =
    `<span class="${riskClass}">${data.verdict}</span> (Confidence ${data.confidence}%)`;

  document.getElementById("cards").innerHTML = `
  <div class="card">ğŸŒ Country: ${data.sources.virustotal.country}</div>
  <div class="card">ğŸ¢ ASN: ${data.sources.virustotal.asn}</div>
  <div class="card">ğŸ§ª VirusTotal: ${data.sources.virustotal.malicious}</div>
  <div class="card">ğŸš¨ AbuseIPDB: ${data.sources.abuseipdb.score}</div>
  <div class="card">ğŸ§  OTX Pulses: ${data.sources.otx.pulses}</div>
  <div class="card">ğŸ” Shodan Ports: ${data.sources.shodan.ports}</div>
  `;
}
</script>

</body>
</html>
