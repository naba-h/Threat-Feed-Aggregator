<!DOCTYPE html>
<html>
<head>
<title>ThreatScope – Cyber Intelligence</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&display=swap" rel="stylesheet">

<style>
body{
margin:0;
font-family:Orbitron;
background:radial-gradient(circle,#001219,#000);
color:#0ff;
min-height:100vh;
display:flex;
justify-content:center;
align-items:center;
}
.panel{
background:#020b16;
border-radius:20px;
padding:40px;
width:90%;
max-width:900px;
box-shadow:0 0 60px #00ffff33;
}
h1{
text-align:center;
font-size:42px;
margin-bottom:10px;
}
.sub{
text-align:center;
color:#7ff;
margin-bottom:30px;
}
input{
width:70%;
padding:18px;
border-radius:10px;
border:none;
font-size:18px;
background:#001a2e;
color:#0ff;
outline:none;
}
button{
padding:18px 30px;
background:#00ffff;
border:none;
border-radius:10px;
font-weight:700;
cursor:pointer;
margin-left:10px;
}
.grid{
margin-top:30px;
display:grid;
grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
gap:20px;
}
.card{
background:#001a2e;
border-radius:15px;
padding:20px;
box-shadow:0 0 20px #00ffff33;
}
.label{color:#7ff;font-size:14px;}
.value{font-size:28px;margin-top:10px;}
.error{color:#ff5555;text-align:center;margin-top:15px;}
</style>
</head>

<body>
<div class="panel">
<h1>ThreatScope</h1>
<div class="sub">Global Cyber Threat Intelligence Engine</div>

<div style="display:flex;justify-content:center">
<input id="ip" placeholder="Enter IP e.g. 8.8.8.8">
<button onclick="scan()">Analyze</button>
</div>

<div id="error" class="error"></div>

<div class="grid">
<div class="card"><div class="label">Threat Level</div><div id="verdict" class="value">—</div></div>
<div class="card"><div class="label">Threat Score</div><div id="score" class="value">—</div></div>
<div class="card"><div class="label">Confidence</div><div id="confidence" class="value">—</div></div>
<div class="card"><div class="label">Country</div><div id="country" class="value">—</div></div>
<div class="card"><div class="label">ISP</div><div id="isp" class="value">—</div></div>
<div class="card"><div class="label">Open Ports</div><div id="ports" class="value">—</div></div>
</div>
</div>

<script>
const API = "https://threat-feed-aggregator.hanfibaba.workers.dev";

async function scan(){
document.getElementById("error").innerText="";
const ip=document.getElementById("ip").value;
try{
const r=await fetch(API+"?ip="+ip);
const d=await r.json();

if(d.error){document.getElementById("error").innerText=d.error;return;}

verdict.innerText=d.verdict;
score.innerText=d.threat_score;
confidence.innerText=d.confidence+"%";
country.innerText=d.sources.virustotal.country;
isp.innerText=d.sources.shodan.isp;
ports.innerText=d.sources.shodan.ports.join(", ");
}catch(e){
document.getElementById("error").innerText="API unreachable";
}
}
</script>
</body>
</html>
